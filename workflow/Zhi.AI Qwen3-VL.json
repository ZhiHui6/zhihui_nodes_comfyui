{"id":"533e30e6-4615-4392-b6e9-26bb90a219b9","revision":0,"last_node_id":80,"last_link_id":81,"nodes":[{"id":52,"type":"ShowText","pos":[-1710,-1870],"size":[580,710],"flags":{},"order":14,"mode":0,"inputs":[{"label":"文本","localized_name":"text","name":"text","type":"STRING","link":36}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText"},"widgets_values":["这是一幅色彩鲜艳、风格卡通的插画，描绘了一个可爱的卡通人物。\n\n从整体构图来看，画面分为上下两部分：上半部分是蓝天和白云，下半部分是绿色的草地。画面中央是一个卡通形象，背景为纯色，没有复杂的环境细节，突出了主体人物。\n\n这个卡通人物具有以下显著特征：\n- 头部和身体：人物头部为白色，拥有大而圆的蓝色眼睛，眼神清澈，嘴角上扬，呈现出一个非常开心、友好的表情。\n- 头发和耳朵：最引人注目的是她头上巨大的黄色耳朵，形状像一对翅膀，内部填充浅黄色，边缘有深色轮廓，非常醒目。\n- 服饰：她身穿一件粉红色的连衣裙，裙摆自然垂落，符合儿童或卡通角色的审美。\n- 姿势：她双臂平展，身体微微前倾，脚踩在绿色的草地上，整个姿态显得活泼、开朗，仿佛在享受户外的阳光和风。\n- 背景：背景是简单的纯蓝色天空，点缀着两朵白色的云，绿色的草地从画面底部延伸，与人物形成鲜明的色彩对比，营造出户外自然的氛围。\n\n综合来看，这幅画作充满了童趣和积极向上的气息，通过简洁明快的线条和明亮的色彩，展现了人物快乐、无忧无虑的情绪，很可能是一个儿童插画或动画角色的设计图。整体风格非常童真、无害，适合用于儿童教育、娱乐或创意设计中。"],"shape":1},{"id":54,"type":"ShowText","pos":[-3690,-1540],"size":[380,210],"flags":{},"order":9,"mode":0,"inputs":[{"label":"文本","localized_name":"text","name":"text","type":"STRING","link":37}],"outputs":[{"label":"字符串","localized_name":"字符串","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"Node name for S&R":"ShowText"},"widgets_values":["✅ 模型已存在，无需重新下载\n📁 模型路径: E:\\ComfyUI-Kaifa\\models\\prompt_generator\\Qwen3-VL-4B-Instruct-abliterated\n💡 如需重新下载，请勾选'强制重新下载'选项"],"shape":1},{"id":71,"type":"MultiplePathsInput","pos":[-2990,-1870],"size":[260,142],"flags":{},"order":7,"mode":0,"inputs":[{"label":"path_1","localized_name":"path_1","name":"path_1","type":"PATH","link":57},{"label":"inputcount","localized_name":"inputcount","name":"inputcount","type":"INT","widget":{"name":"inputcount"},"link":null}],"outputs":[{"label":"paths","localized_name":"paths","name":"paths","type":"PATH","links":[78]}],"properties":{"Node name for S&R":"MultiplePathsInput"},"widgets_values":[1,null],"color":"#232","bgcolor":"#353","shape":1},{"id":63,"type":"MultiplePathsInput","pos":[-2990,-1450],"size":[260,142],"flags":{},"order":8,"mode":0,"inputs":[{"label":"path_1","localized_name":"path_1","name":"path_1","type":"PATH","link":45},{"label":"inputcount","localized_name":"inputcount","name":"inputcount","type":"INT","widget":{"name":"inputcount"},"link":null}],"outputs":[{"label":"paths","localized_name":"paths","name":"paths","type":"PATH","links":[79]}],"properties":{"Node name for S&R":"MultiplePathsInput"},"widgets_values":[1,null],"color":"#223","bgcolor":"#335","shape":1},{"id":76,"type":"Reroute","pos":[-2680,-1580],"size":[75,26],"flags":{},"order":10,"mode":0,"inputs":[{"name":"","type":"*","link":78}],"outputs":[{"name":"","type":"PATH","links":[81]}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353","shape":1},{"id":79,"type":"Reroute","pos":[-2680,-1520],"size":[75,26],"flags":{},"order":11,"mode":0,"inputs":[{"name":"","type":"*","link":79}],"outputs":[{"name":"","type":"PATH","links":null}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335","shape":1},{"id":44,"type":"ImageLoader","pos":[-3280,-1870],"size":[270,310],"flags":{},"order":0,"mode":0,"inputs":[{"label":"image","localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"label":"upload","localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"PATH","localized_name":"PATH","name":"PATH","type":"PATH","links":[57]}],"properties":{"Node name for S&R":"ImageLoader"},"widgets_values":["example.png","image"],"color":"#232","bgcolor":"#353","shape":1},{"id":80,"type":"Reroute","pos":[-2530,-1550],"size":[75,26],"flags":{},"order":12,"mode":0,"inputs":[{"name":"","type":"*","link":81}],"outputs":[{"name":"","type":"PATH","links":[80]}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535","shape":1},{"id":49,"type":"Qwen3VLExtraOptions","pos":[-2400,-1870],"size":[330,710],"flags":{},"order":1,"mode":0,"inputs":[{"label":"refer_character_name","localized_name":"refer_character_name","name":"refer_character_name","type":"BOOLEAN","widget":{"name":"refer_character_name"},"link":null},{"label":"exclude_people_info","localized_name":"exclude_people_info","name":"exclude_people_info","type":"BOOLEAN","widget":{"name":"exclude_people_info"},"link":null},{"label":"include_lighting","localized_name":"include_lighting","name":"include_lighting","type":"BOOLEAN","widget":{"name":"include_lighting"},"link":null},{"label":"include_camera_angle","localized_name":"include_camera_angle","name":"include_camera_angle","type":"BOOLEAN","widget":{"name":"include_camera_angle"},"link":null},{"label":"include_watermark","localized_name":"include_watermark","name":"include_watermark","type":"BOOLEAN","widget":{"name":"include_watermark"},"link":null},{"label":"include_JPEG_artifacts","localized_name":"include_JPEG_artifacts","name":"include_JPEG_artifacts","type":"BOOLEAN","widget":{"name":"include_JPEG_artifacts"},"link":null},{"label":"include_exif","localized_name":"include_exif","name":"include_exif","type":"BOOLEAN","widget":{"name":"include_exif"},"link":null},{"label":"exclude_sexual","localized_name":"exclude_sexual","name":"exclude_sexual","type":"BOOLEAN","widget":{"name":"exclude_sexual"},"link":null},{"label":"exclude_image_resolution","localized_name":"exclude_image_resolution","name":"exclude_image_resolution","type":"BOOLEAN","widget":{"name":"exclude_image_resolution"},"link":null},{"label":"include_aesthetic_quality","localized_name":"include_aesthetic_quality","name":"include_aesthetic_quality","type":"BOOLEAN","widget":{"name":"include_aesthetic_quality"},"link":null},{"label":"include_composition_style","localized_name":"include_composition_style","name":"include_composition_style","type":"BOOLEAN","widget":{"name":"include_composition_style"},"link":null},{"label":"exclude_text","localized_name":"exclude_text","name":"exclude_text","type":"BOOLEAN","widget":{"name":"exclude_text"},"link":null},{"label":"specify_depth_field","localized_name":"specify_depth_field","name":"specify_depth_field","type":"BOOLEAN","widget":{"name":"specify_depth_field"},"link":null},{"label":"specify_lighting_sources","localized_name":"specify_lighting_sources","name":"specify_lighting_sources","type":"BOOLEAN","widget":{"name":"specify_lighting_sources"},"link":null},{"label":"do_not_use_ambiguous_language","localized_name":"do_not_use_ambiguous_language","name":"do_not_use_ambiguous_language","type":"BOOLEAN","widget":{"name":"do_not_use_ambiguous_language"},"link":null},{"label":"include_nsfw","localized_name":"include_nsfw","name":"include_nsfw","type":"BOOLEAN","widget":{"name":"include_nsfw"},"link":null},{"label":"only_describe_most_important_elements","localized_name":"only_describe_most_important_elements","name":"only_describe_most_important_elements","type":"BOOLEAN","widget":{"name":"only_describe_most_important_elements"},"link":null},{"label":"do_not_include_artist_name_or_title","localized_name":"do_not_include_artist_name_or_title","name":"do_not_include_artist_name_or_title","type":"BOOLEAN","widget":{"name":"do_not_include_artist_name_or_title"},"link":null},{"label":"identify_image_orientation","localized_name":"identify_image_orientation","name":"identify_image_orientation","type":"BOOLEAN","widget":{"name":"identify_image_orientation"},"link":null},{"label":"use_vulgar_slang_and_profanity","localized_name":"use_vulgar_slang_and_profanity","name":"use_vulgar_slang_and_profanity","type":"BOOLEAN","widget":{"name":"use_vulgar_slang_and_profanity"},"link":null},{"label":"do_not_use_polite_euphemisms","localized_name":"do_not_use_polite_euphemisms","name":"do_not_use_polite_euphemisms","type":"BOOLEAN","widget":{"name":"do_not_use_polite_euphemisms"},"link":null},{"label":"include_character_age","localized_name":"include_character_age","name":"include_character_age","type":"BOOLEAN","widget":{"name":"include_character_age"},"link":null},{"label":"include_camera_shot_type","localized_name":"include_camera_shot_type","name":"include_camera_shot_type","type":"BOOLEAN","widget":{"name":"include_camera_shot_type"},"link":null},{"label":"exclude_mood_feeling","localized_name":"exclude_mood_feeling","name":"exclude_mood_feeling","type":"BOOLEAN","widget":{"name":"exclude_mood_feeling"},"link":null},{"label":"include_camera_vantage_height","localized_name":"include_camera_vantage_height","name":"include_camera_vantage_height","type":"BOOLEAN","widget":{"name":"include_camera_vantage_height"},"link":null},{"label":"mention_watermark","localized_name":"mention_watermark","name":"mention_watermark","type":"BOOLEAN","widget":{"name":"mention_watermark"},"link":null},{"label":"avoid_meta_descriptive_phrases","localized_name":"avoid_meta_descriptive_phrases","name":"avoid_meta_descriptive_phrases","type":"BOOLEAN","widget":{"name":"avoid_meta_descriptive_phrases"},"link":null},{"label":"character_name","localized_name":"character_name","name":"character_name","type":"STRING","widget":{"name":"character_name"},"link":null}],"outputs":[{"label":"extra_options","localized_name":"extra_options","name":"extra_options","type":"QWEN3VL_EXTRA_OPTIONS","links":[35]}],"properties":{"Node name for S&R":"Qwen3VLExtraOptions"},"widgets_values":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,""],"color":"#323","bgcolor":"#535","shape":1},{"id":78,"type":"Note","pos":[-2690,-1730],"size":[260,88],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["按照所需的输出类型将右边和左边的转折点对接\n"],"color":"#432","bgcolor":"#653","shape":1},{"id":68,"type":"Note","pos":[-3690,-1890],"size":[380,120],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["·如要使用Qwen3-VL Advanced请先安装潪AI节点包 ：https://github.com/ZhiHui6/zhihui_nodes_comfyui\n\n·运行Qwen3-VL Advanced节点前，需要先通过模型下载器下载所需模型。\n- 带“abliterated”标识的为破限版模型；\n- 带“FP8”标识的为量化版模型；\n- 带“Thinking”标识的为思考型模型（类似Deepseek R1）\n"],"color":"#432","bgcolor":"#653","shape":1},{"id":51,"type":"Qwen3VLAdv","pos":[-2060,-1870],"size":[320,450],"flags":{},"order":13,"mode":0,"inputs":[{"label":"source_path","localized_name":"source_path","name":"source_path","shape":7,"type":"PATH","link":80},{"label":"extra_options","localized_name":"extra_options","name":"extra_options","shape":7,"type":"QWEN3VL_EXTRA_OPTIONS","link":35},{"label":"batch_mode","localized_name":"batch_mode","name":"batch_mode","type":"BOOLEAN","widget":{"name":"batch_mode"},"link":null},{"label":"batch_directory","localized_name":"batch_directory","name":"batch_directory","type":"STRING","widget":{"name":"batch_directory"},"link":null},{"label":"user_prompt","localized_name":"user_prompt","name":"user_prompt","type":"STRING","widget":{"name":"user_prompt"},"link":null},{"label":"preset_prompt","localized_name":"preset_prompt","name":"preset_prompt","type":"COMBO","widget":{"name":"preset_prompt"},"link":null},{"label":"model","localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"label":"quantization","localized_name":"quantization","name":"quantization","type":"COMBO","widget":{"name":"quantization"},"link":null},{"label":"temperature","localized_name":"temperature","name":"temperature","type":"FLOAT","widget":{"name":"temperature"},"link":null},{"label":"max_new_tokens","localized_name":"max_new_tokens","name":"max_new_tokens","type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"label":"min_pixels","localized_name":"min_pixels","name":"min_pixels","type":"INT","widget":{"name":"min_pixels"},"link":null},{"label":"max_pixels","localized_name":"max_pixels","name":"max_pixels","type":"INT","widget":{"name":"max_pixels"},"link":null},{"label":"seed","localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"label":"attention","localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"label":"keep_model_loaded","localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null}],"outputs":[{"label":"STRING","localized_name":"字符串","name":"STRING","type":"STRING","links":[36]}],"properties":{"Node name for S&R":"Qwen3VLAdv"},"widgets_values":[false,"是","","忽略","Qwen3-VL-4B-Instruct-abliterated","4bit",1,2048,200704,1003520,1903,"randomize","sdpa",false],"color":"#323","bgcolor":"#535","shape":1},{"id":69,"type":"Note","pos":[-2060,-1380],"size":[320,220],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["·如需批量打标功能，请先打开batch_modea按钮，并设置忽略source_path输入端口上游的节点，然后在batch_directory填入需要打标的数据集路径。\n\n·若使用提示预设，preset_prompt设为所需选项即可。\n-选择预设后，user_prompt的内容将被忽略。"],"color":"#432","bgcolor":"#653","shape":1},{"id":61,"type":"VideoLoader","pos":[-3280,-1450],"size":[270,562],"flags":{},"order":5,"mode":0,"inputs":[{"label":"file","localized_name":"file","name":"file","type":"COMBO","widget":{"name":"file"},"link":null},{"label":"upload","localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"VIDEO","localized_name":"视频","name":"VIDEO","type":"VIDEO","links":null},{"label":"PATH","localized_name":"PATH","name":"PATH","type":"PATH","links":[45]}],"properties":{"Node name for S&R":"VideoLoader"},"widgets_values":["AnimateDiff_00024.mp4","image"],"color":"#223","bgcolor":"#335","shape":1},{"id":53,"type":"ModelDownloader","pos":[-3690,-1710],"size":[380,110],"flags":{},"order":6,"mode":0,"inputs":[{"label":"model","localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"label":"platform","localized_name":"platform","name":"platform","type":"COMBO","widget":{"name":"platform"},"link":null},{"label":"force_redownload","localized_name":"force_redownload","name":"force_redownload","type":"BOOLEAN","widget":{"name":"force_redownload"},"link":null}],"outputs":[{"label":"info","localized_name":"info","name":"info","type":"STRING","links":[37]}],"properties":{"Node name for S&R":"ModelDownloader"},"widgets_values":["Qwen3-VL-4B-Instruct-abliterated","hf-mirror",false],"shape":1}],"links":[[35,49,0,51,1,"QWEN3VL_EXTRA_OPTIONS"],[36,51,0,52,0,"STRING"],[37,53,0,54,0,"STRING"],[45,61,1,63,0,"PATH"],[57,44,0,71,0,"PATH"],[78,71,0,76,0,"*"],[79,63,0,79,0,"*"],[80,80,0,51,0,"PATH"],[81,76,0,80,0,"*"]],"groups":[{"id":1,"title":"步骤1.模型下载","bounding":[-3700,-1960,400,640],"color":"#A88","font_size":24,"flags":{}},{"id":2,"title":"步骤4.推理设置","bounding":[-2410,-1960,680,810],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"步骤2-1.选择输出类型（图像）","bounding":[-3290,-1960,570,410],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"步骤2-2.选择输出类型（视频）","bounding":[-3290,-1540,570,400],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"步骤3.对接转接点","bounding":[-2710,-1960,290,700],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"步骤5.预览结果","bounding":[-1720,-1960,600,810],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"潪AI.Qwen3-VL高级版视觉识别多用途工作流","bounding":[-3700,-2050,1180,80],"color":"#8A8","font_size":58,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.4864362802414623,"offset":[3387.101496159363,2296.278644047845]}},"version":0.4}